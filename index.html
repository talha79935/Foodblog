<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taste Craft - Food Blog</title>

    <!-- Leaflet.js CSS for Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <!-- External CSS File Link -->
    <link rel="stylesheet" href="style.css">

    <!-- External JS File Link (If any) -->
    <script src="script.js" defer></script>
</head>

<body>
    <!-- Splash Screen for Initial Load -->
    <div class="splash-screen">
        <h1>Taste Craft</h1>
    </div>

    <!-- Navigation Menu -->
    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#recipes">Recipes</a></li>
            <li><a href="#weather">Weather</a></li>
            <li><a href="#map">Map</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Home Section -->
    <section id="home">
        <h2>Welcome to Taste Craft</h2>
        <p>Explore the world of food, recipes, and more!</p>
    </section>

    <!-- Recipes Section -->
    <section id="recipes">
        <h2>Delicious Recipes</h2>
        <p>Explore recipes from around the world.</p>
        <button onclick="fetchRecipe()">Fetch Random Recipe</button>
        <div id="recipe-container"></div>
    </section>

    <!-- Weather Section -->
    <section id="weather" class="weather-section">
        <h2>Weather</h2>
        <p>Loading weather...</p>
    </section>

    <!-- Map Section (Leaflet.js) -->
    <section id="map" class="map-section">
        <h2>Interactive Map</h2>
        <div id="leaflet-map"></div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Contact Us</h2>
        <form id="contact-form">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="message">Message:</label>
            <textarea id="message" name="message" required></textarea>

            <button type="submit">Send</button>
        </form>
    </section>

    <!-- Leaflet.js JS for Map -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <!-- Weather API -->
    <script>
        const weatherApiKey = 'b2f5a31713cd9cf1d6d79e14439fc163'; // Your OpenWeatherMap API key
        const city = 'Karachi'; // Default city updated to Karachi

        async function fetchWeather() {
            const weatherUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city},pk&appid=${weatherApiKey}&units=metric`;
            const response = await fetch(weatherUrl);
            const data = await response.json();
            displayWeather(data);
        }

        function displayWeather(data) {
            const weatherSection = document.querySelector('.weather-section');
            const weatherHtml = `
                <p>Location: ${data.name}, ${data.sys.country}</p>
                <p>Temperature: ${data.main.temp}Â°C</p>
                <p>Weather: ${data.weather[0].description}</p>
                <p>Humidity: ${data.main.humidity}%</p>
                <p>Wind Speed: ${data.wind.speed} m/s</p>
            `;
            weatherSection.innerHTML = weatherHtml;
        }

        fetchWeather();
    </script>

    <!-- Recipe API -->
    <script>
        async function fetchRecipe() {
            const recipeUrl = 'https://api.spoonacular.com/recipes/random?apiKey=08975685f2de46edba42550b2904f53e';
            const response = await fetch(recipeUrl);
            const data = await response.json();
            displayRecipe(data);
        }

        function displayRecipe(data) {
            const recipeContainer = document.getElementById('recipe-container');
            const recipeHtml = `
                <h3>${data.recipes[0].title}</h3>
                <img src="${data.recipes[0].image}" alt="Recipe Image" />
                <p>${data.recipes[0].summary}</p>
            `;
            recipeContainer.innerHTML = recipeHtml;
        }
    </script>

    <!-- Leaflet Map Initialization -->
    <script>
        const map = L.map('leaflet-map').setView([24.8607, 67.0011], 13); // Default map location set to Karachi

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        const marker = L.marker([24.8607, 67.0011]).addTo(map); // Marker for Karachi
        marker.bindPopup("<b>Welcome to Karachi!</b><br />This is a popup.").openPopup();
    </script>

</body>

</html>
